<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>ABS.Stat Natural Language Processing Tool</title>

<style>
body {
	color: #a0a0a0;
	font-family: "Helvetica Neue", Helvetica, "Liberation Sans", Arial,
		sans-serif;
	font-size: 16px;
	line-height: 1.0;
}

html {
	font-family: sans-serif;
	font-size: 16px;
}

h2 {
	font-size: 16px;
	color: #a0a0a0;
}

html {
	height: 100%;
	text-align: left;
	font-size: 16px;
}

div.container {
	height: 100px;
	width: 800px;
	position: absolute;
	margin: -50px 0 0 -400px;
	left: 50%;
	top: 30%;
}

.mybutton {
	color: #ffffff;
	width: 100px;
	font-size: 16px;
	line-height: 1.6;
	font-family: "Helvetica Neue", Helvetica, "Liberation Sans", Arial,
		sans-serif;
}

#url {
	margin-top: 20px;
}

#result {
	color: #404040;
	font-size: 96px;
	line-height: 1.6;
}

input {
	color: #404040;
	font-size: 16px;
	line-height: 1.6;
	width: 650px;
	padding-left: 8px;
}
</style>

<script src="http://code.jquery.com/jquery-latest.min.js"
	type="text/javascript"></script>

<script>
	$(document).ready(
			function() {
				$("#query").keyup(function(event) {
					if (event.keyCode == 13) {
						$("#go").click();
					}
				});
				$('#go').click(
						function() {
							$('#result').text('...');
							var url = 'query/' + $('#query').val();
							$.getJSON(url, function(data, status, jqXHR) {
								$("#result").text(
										data.result.replace(
												/(\d)(?=(\d\d\d)+(?!\d))/g,
												"$1,"));
								$("#url").html(
										'<a href="'+data.url+'">' + data.url
												+ '</a>');
								$('#map').text(' ');
								$.each(data, function(index) {
									if (index != 'result' && index != 'url') {
										$("#map").append(
												index + " : " + data[index]
														+ '<br>');
									}
								});

							});
						});
			});
</script>

</head>
<body>
	<div class='container'>
		<h2>What would you like to know?</h2>
		<input id="query" class="" type="text"
			placeholder="eg. How many men aged 35-40 in Sandy Bay work in the IT industry?" />
		<button id="go" class="mybutton">search</button>
		<div id="result"></div>
		<div id="map"></div>
		<div id="url"></div>

	</div>

</body>
</html>
